<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BrainView AI - Patient Manager</title>
  <link rel="stylesheet" href="/g17-capstone-BrainViewAI-0.1-fix/static/css/patientManagerStyle.css">
  <link rel="stylesheet" href="/g17-capstone-BrainViewAI-0.1-fix/static/css/mainStyles.css">
  <link rel="stylesheet" href="/g17-capstone-BrainViewAI-0.1-fix/static/css/darkMode.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

</head>
<body>
  <div id="app-container">
    <!-- Top Navigation Bar -->
    <header class="navbar">
      <div class="logo">
        <img src="assets/logo.png" alt="BrainView AI Logo">
        <span>BrainView AI</span>
      </div>
      <nav class="nav-links">
        <a href="main.html">CT Scan Analyzer</a>
        <a href="patientManager.html" class="active">Patient Manager</a>
        <a href="settings.html">User Settings</a>
        <a href="help.html">Help</a>
      </nav>
      <div class="user-menu">
        <button id="user-dropdown-btn">
          <span class="user-avatar">JS</span>
          <span class="user-name">Dr. Jhone Smith</span>
        </button>
        <!-- Dropdown Menu -->
        <div class="dropdown-menu" id="user-dropdown-menu">
          <a href="#logout" id="logout-link">Log Out</a>
        </div>
      </div>
    </header>

    <!-- Patient Manager Dashboard -->
    <main class="dashboard">
      <section class="ct-scan-dashboard">
        <h1>Patient CT Scan Records</h1>
        
        <!-- Search Bar -->
        <div class="search-container">
          <input type="text" id="patientSearch" class="search-input" placeholder="Search by Patient ID">
          <button class="btn-primary" id="searchBtn">Search</button>
          <button class="btn-secondary" id="clearBtn">Clear</button>
        </div>

        <div id="loadingIndicator" class="loading">
          <div class="loading-spinner"></div>
          <p>Loading patient data...</p>
        </div>
        
        <!-- Patient Results Container (Table Layout) -->
        <div id="patientResults">
          <table class="patient-table">
            <thead>
              <tr>
                <th>Patient ID</th>
                <th>Status</th>
                <th>Confidence</th>
                <th>Scan Name</th>
                <th>Analysis Date</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="patientTableBody">

            </tbody>
          </table>
        </div>
        
        <!-- No Results Message -->
        <div id="noResults" class="no-results" style="display: none;">
          <p>No patient records found. Please try a different search term.</p>
        </div>
        
        <!--Developer tools section (HIDDEN DEFAULT) -->
        <div id="developerTools" class="developer-tools">
          <h3>Developer & Troubleshooting Tools</h3>
          <ul>
            <li><a href="debug-patient-data.php" target="_blank">System Diagnostic Tool</a></li>
            <li><a href="insert-test-data.php" target="_blank">Insert Test Patient Data</a></li>
            <li><a href="create-image-not-found.php" target="_blank">Generate Helper Images</a></li>
            <li><a href="check-php-extensions.php" target="_blank">Check PHP Extensions</a></li>
          </ul>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <p>Â© 2024 BrainView AI. All Rights Reserved</p>
    </footer>
  </div>
  
  <!-- Patient Details Modal (hidden by default) -->
  <div id="patientModal" class="mask" style="display: none;">
    <div class="popup segmentation-popup">
      <div class="popup-content">
        <h3 id="modalPatientId">Patient ID: </h3>
        <p id="modalAnalysisResult"></p>
        <div class="segmentation-images">
          <div class="segmentation-image">
            <h4>Original CT Scan</h4>
            <img id="modalOriginalImage" class="seg-img" src="" alt="Original CT Scan">
          </div>
          <div class="segmentation-image">
            <h4>Contour Segmentation</h4>
            <img id="modalContourImage" class="seg-img" src="" alt="Contour Segmentation">
          </div>
          <div class="segmentation-image">
            <h4>Edge Detection</h4>
            <img id="modalEdgeImage" class="seg-img" src="" alt="Edge Detection">
          </div>
          <div class="segmentation-image">
            <h4>Threshold Mask</h4>
            <img id="modalThresholdMaskImage" class="seg-img" src="" alt="Threshold Mask">
          </div>
          <div class="segmentation-image">
            <h4>Damage Area Overlay</h4>
            <img id="modalDamageOverlayImage" class="seg-img" src="" alt="Damage Area Overlay">
          </div>
        </div>
        <div class="patient-info">
          <p><span>Confidence:</span> <span id="modalConfidence"></span></p>
          <p><span>Accuracy:</span> <span id="modalAccuracy"></span></p>
          <p><span>Image Name:</span> <span id="modalImageName"></span></p>
          <p><span>Analysis Date:</span> <span id="modalAnalysisDate"></span></p>
        </div>
        <button id="closeModalBtn">Close</button>
      </div>
    </div>
  </div>
  
  <script src="static/js/mainScripts.js"></script>
  <script src="static/js/patientManager.js"></script>
  <script src="static/js/developerTool.js"></script>
  <script src="static/js/darkMode.js"></script>
</body>
</html> 
